class promise{
  constructor(func){
  const args = arguments
  return newf
  
  function newf(){
let a =    Array.prototype.slice.call(arguments)
a.push(newf.callb)
  
    func.apply(null,a
    )
  }
}
  
    then(): f=>newf.callb=f

}

const add=wrap(function(a, b, call){
  const res=a+b
  console.log('il: '+res);

console.log(Array.prototype.slice.call(arguments));
  call(res)
})

const p =add(1, 2)

console.log(p.a);

p.then(
  red=>{
    console.log('then: '+res);
  }
)